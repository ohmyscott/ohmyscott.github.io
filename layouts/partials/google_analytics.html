<!-- Google Analytics Template -->
{{- $ga := site.Config.Services.GoogleAnalytics -}}
{{- $ga4id := site.Params.googleAnalyticsID -}}

{{- if $ga -}}
{{ template "_internal/google_analytics.html" . -}}
{{- else if $ga4id -}}
<!-- Alternative Google Analytics 4 -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id={{ $ga4id }}"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '{{ $ga4id }}');
</script>
{{- else -}}
<!-- Fallback empty template if no analytics configured -->
<!-- Google Analytics not configured -->
{{- end -}}